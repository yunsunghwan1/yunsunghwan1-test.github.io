# 날씨와 수요량 데이터의 분석

- 2012~2022년도 월별 전력 수요량 히트맵 및 선 그래프와 기온 그래프

![Untitled](Untitled%206.png)

![Untitled](Untitled%209.png)

![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled.png)

2018~2021년도 한국 월 별 전력 수요량의 히트 맵을 그린 그림입니다. 

한국의 계절적 특징을 생각하여 그림을 살펴보면, 

봄(3월~5월)에는 날씨가 온화해, 큰 전력 수요량을 보이지 않습니다.

**여름(6월~8월)은 전력 수요량이 가파르게 상승합니다. 이는 더운 여름철에는 실내 냉방을 위한 에너지 소비가 증가하여 많은 에너지를 소비한다고 추측할 수 있습니다.** 

가을(9월~11월)에는 봄과 마찬가지로 온화한 날씨로 인해 상대적으로 적은 전력 소비량을 보여주고 있습니다.

**겨울(12월~2월)은 여름과 마찬가지로 큰 전력 수요량을 보입니다. 이는 추운 겨울철을 보내기 위한 실내 난방용 에너지를 많이 필요로 한다고 볼 수 있습니다.**

**이를 통해 전력의 수요량은 계절성을 띄고 있다고 파악할 수 있으며, 기온의 상승과 하락은 소비량에 아주 큰 영향을 미친다고 볼 수 있습니다.**

- 기온과 전력 수요량의 상관관계
    
    

![Untitled](Untitled%208.png)

![Untitled](Untitled%209.png)

![Untitled](Untitled%207.png)

위의 그래프는 한국의 전력 소비량과 생산량과 기온을 나타내는 그래프입니다. 이 그래프를 통해 전력의 소비량과 기온의 상관관계를 분석할 수 있습니다.

그래프의 왼쪽 축은 전력 소비량을, 오른쪽 축은 기온을 나타냅니다. 그래프의 점은 각각의 월을 나타내고 있습니다.

**기온이 높거나 낮을 수록 냉난방의 수요가 상승하므로 기온과 전력 수요량은 밀접한 관련이 있습니다. 기준 기온인 18℃를 중심으로 기온이 낮아질 수록 전력 사용량이 증가하고 기온이 높아질수록 전력 사용량이 증가하는 것을 확인할 수 있습니다.**

여름철 온도 상승에 따른 냉방 에너지 사용 증가하므로 전력 사용량이 증가합니다. 겨울철 기온 하강에 따른 난방 에너지 소비 증가하므로 전력 사용량이 증가합니다.

**기온의 증감에 따라 전력 사용량이 늘어난다는 상관관계를 해당 그래프에서 확인할 수 있습니다.**

- 습도와 전력 수요량의 상관관계
    
    ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%201.png)
    
    ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%202.png)
    
    위의 그래프는 한국에서 전력 수요량과 습도의 상관 관계를 나타내는 그래프입니다.
    
    그래프의 y축은 습도를, x축은 전력 수요량을 나타냅니다. 그래프의 점은 각각의 월을 나타내고 있습니다.
    
    **기온과 마찬가지로 습도가 높아지면 공기 중의 수증기 함량이 높아지기 때문에 냉방 및 가습기를 사용하여 실내를 더욱 쾌적하게 유지하기 위해 냉방 전력 수요가 늘어나게 됩니다. 또한 습도가 낮아지면, 즉 건조할 수록 가습기를 자주 사용하게 되어 전력 사용량이 증가합니다.**
    
    따라서 이러한 경우에는 습도와 전력 수요량 사이의 상관 관계가 낮을 수 있습니다.
    
    **이 그래프는 영향이 크지는 않더라도 전력 수요량과 습도의 상관 관계가 존재한다는 것을 확인할 수 있습니다.**
    

- 풍속과 전력 수요량의 상관관계
    
    ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%203.png)
    

![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%204.png)

위의 그래프는 한국에서 전력 수요량과 풍속의 상관 관계를 나타내는 그래프입니다.

그래프의 y축은 풍속을, x축은 전력 수요량을 나타냅니다. 그래프의 점은 각각의 월을 나타내고 있습니다.

풍속과 전력 수요량은 서로 상관 관계가 있을 수 있습니다. 일반적으로 바람이 강할수록 냉방 및 난방을 위한 전력 소모가 줄어들기 때문입니다. 강한 바람이 부는 경우에는 실내 공기가 빨리 교체되기 때문에 에어컨이나 히터를 사용하지 않아도 실내 온도를 적정하게 유지할 수 있습니다.

여름철에는 열대야와 함께 강한 바람이 불면 실내를 더욱 쾌적하게 유지하기 위해 에어컨을 더 많이 사용하게 됩니다. 

따라서 이러한 경우에는 풍속과 전력 수요량 사이의 상관 관계가 낮을 수 있습니다.

**이 그래프는 전력 수요량과 풍속의 상관 관계가 밀접하지 않다는 것을 확인할 수 있습니다.**

- 전력 수요 데이터 분석
    
    

전력 수요 데이터 분석을 통해 과거의 전력 사용 패턴을 파악하고, 이를 바탕으로 미래의 전력 수요를 예측합니다. 이를 위해 다양한 머신러닝 알고리즘을 활용하며, 수요 예측 정확도를 높이기 위해 데이터 전처리 작업도 진행합니다.

우리는 위의 날씨와 전력 수요의 상관관계를 통해 태양광 생산량을 좀 더 정확하게 예측하였습니다.

- 머신러닝(수요) 결과(2013~2022)/강수량, 온도, 습도 - 13년~20년 데이터를 통한 수요 예측 21년 예측
    
    ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%205.png)
    

**위의 데이터 분석을 통해 상관 계수 0.1 이상의 데이터만 사용하여 예측한 결과입니다.**  습도, 기온 데이터와 전력 수요 데이터를 **2012년~ 2020년 데이터를 학습한 뒤 2021년 데이터를 예측한 모델**입니다.  AWS에서 제작한 autogluon 라이브러리를 사용하여 NeuralNetFastAI, KNeighborDist, WeightedEnsemble_L2, CatBoost, LightGB 중에 예측한 모델 중 가장 loss가 적은 모델과 가중치를 반환합니다. **예측 데이터가 가장 좋은 WeightedEnsemble_L2를 사용하여 예측 값과 실제 2021년의 수요 값을 비교한 값입니다.** 빨간색 선은 실제 데이터값을 나타내며, 파란색 선은 19년도부터 20년까지의 데이터를 기준으로 예측한 데이터 값을 나타냅니다.

- LSTM으로 수요 에측 (순수 시간 값과 수요량을 통한 예측)(13~20)학습, 후 21년 예측 시간 값 8~18시까지
    
    ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%206.png)
    
    **위의 데이터 분석을 통해 상관 계수 0.1 이상의 데이터만 사용하여 예측한 결과입니다.**  습도, 기온 데이터와 전력 수요 2012년~ 2020 기간에서 시간 별로 데이터를 사용하여 학습했습니다. 학습한 가중치를 사용하여 2020년의 데이터로 2021년 전력 수요 예측한 값입니다. **LSTM 모델을 사용하여 예측하였으며 Parameter는 wide_size로는 365일로 하여 1년 데이터로 학습**하며 50번을 반복하여 가장 좋은 예측 값과 실제 2021년 값과 비교한 사진입니다. 파란색 선은 실제 데이터 값을 나타내며, 주황색 선은 19년도부터 20년까지의 데이터를 기준으로 예측한 데이터 값을 나타냅니다.
    
    - 예측과 실제 데이터 그래프
        
        ![Untitled](%E1%84%82%E1%85%A1%E1%86%AF%E1%84%8A%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%89%E1%85%AE%E1%84%8B%E1%85%AD%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%87%E1%85%AE%E1%86%AB%E1%84%89%E1%85%A5%E1%86%A8%20248b177fa2d844adaadd661f4e7445b5/Untitled%207.png)
        
    
    wide_size: 시퀀스의 다음 값을 예측하는 데 사용되는 시간 단계 또는 관찰의 수를 나타냅니다. 예를 들어 1000개의 관찰이 있는 시계열이 있고 wide_size를 10으로 선택한 경우 처음 10개의 관찰을 사용하여 11일을 예측한 다음 창을 하나의 관찰로 이동하고 다음 10개의 관찰을 사용하여 12일을 예측합니다.
    
    batch_size: 모델 학습 중 parameter를 업데이트할 때 사용할 데이터 개수를 의미
    
     예를 들어 설명하면/데이터 세트 3000, 배치 크기 100, 창 크기 300으로 인공 지능 모델을 교육할 때 일반적으로 다음 단계를 따릅니다.
    
    1. 데이터 세트를 크기 100의 배치로 나눕니다.
    2. 각 배치에 대해 창 크기가 300인 입력-출력 쌍을 생성합니다. 여기에는 각 배치에 대해 크기 300의 창을 슬라이딩하여 701개의 입력-출력 쌍을 생성하는 작업이 포함됩니다(입력에 대해 최소 300개의 데이터 포인트와 1개의 데이터가 필요하므로 출력 포인트).